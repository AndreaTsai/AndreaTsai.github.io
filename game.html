<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<title>ç›²ç›’éŠæˆ²</title>
<style>
  body { font-family: "Microsoft JhengHei", Arial; display: flex; padding: 20px; background-color: #f0f2f5; }
  #leftPanel { width: 220px; border-right: 2px solid #ddd; padding-right: 20px; background: white; border-radius: 10px; padding: 15px; height: 90vh; overflow-y: auto; }
  #leftPanel h3 { text-align: center; color: #333; border-bottom: 2px solid #3498db; padding-bottom: 10px; }
  #collected img { width: 100%; margin-bottom: 15px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
  #mainPanel { flex: 1; padding-left: 40px; text-align: center; }
  #boxArea { margin: 30px auto; min-height: 300px; }
  #boxImage { max-width: 300px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); transition: transform 0.3s; }
  #boxImage:hover { transform: scale(1.02); }
  button { padding: 12px 30px; font-size: 18px; margin: 10px; cursor: pointer; border: none; border-radius: 5px; background-color: #3498db; color: white; transition: 0.3s; }
  button:hover { background-color: #2980b9; }
  button:active { transform: translateY(2px); }
  .result-text { font-size: 20px; font-weight: bold; color: #e74c3c; margin-top: 10px; height: 30px; }
</style>
</head>
<body>

<div id="leftPanel">
  <h3>å·²æŠ½åˆ°çš„æ”¶è—</h3>
  <div id="collected"></div>
</div>

<div id="mainPanel">
  <h1>ğŸ¸ ç›²ç›’æŠ½æŠ½æ¨‚ ğŸ¸</h1>

  <div id="playSection">
    <div id="boxArea">
      <img id="boxImage" src="images/ç›’.jpg" alt="ç›²ç›’">
      <div id="statusMessage" class="result-text"></div>
    </div>
    <br>
    <button onclick="openBox()">é»é–‹ç›²ç›’</button>
    <button onclick="confirmBox()" id="confirmBtn" style="display:none; background-color: #2ecc71;">åŠ å…¥æ”¶è—</button>
  </div>
</div>

<script>
// ç›´æ¥å®šç¾©åœ–ç‰‡è·¯å¾‘ (ä½æ–¼ images è³‡æ–™å¤¾)
const imageFolder = 'image/';
const memberImages = ['çŸ³.jpg', 'ä½‘.jpg', 'ä¿¡.jpg', 'è.jpg', 'ç¸.jpg'].map(name => imageFolder + name);
const closedImage = imageFolder + 'ç›’.jpg';

let collected = [];     // ç©å®¶å·²æŠ½åˆ°çš„åœ–ç‰‡
let currentBox = '';    // ç©å®¶ç•¶å‰æŠ½åˆ°çš„åœ–ç‰‡

// åˆå§‹åŒ–ï¼šæª¢æŸ¥å¤–ç›’åœ–æ˜¯å¦å­˜åœ¨
window.onload = function() {
    document.getElementById('boxImage').src = closedImage;
};

// é–‹ç›²ç›’åŠŸèƒ½
function openBox() {
  if (currentBox !== '') {
    alert("è«‹å…ˆå°‡ç›®å‰çš„çµæœã€ŒåŠ å…¥æ”¶è—ã€å–”ï¼");
    return;
  }

  // éš¨æ©ŸæŠ½å–ä¸€å¼µæˆå“¡åœ–
  const index = Math.floor(Math.random() * memberImages.length);
  currentBox = memberImages[index];
  
  // æ›´æ–°åœ–ç‰‡é¡¯ç¤ºèˆ‡æŒ‰éˆ•
  document.getElementById('boxImage').src = currentBox;
  document.getElementById('statusMessage').innerText = "æ­å–œæŠ½ä¸­ï¼";
  document.getElementById('confirmBtn').style.display = 'inline-block';
}

// ç¢ºå®šæŠ½åˆ°çš„ç›²ç›’
function confirmBox() {
  if (!currentBox) {
    alert("è«‹å…ˆé»é–‹ç›²ç›’ï¼");
    return;
  }
  
  // åŠ å…¥æ”¶è—æ¸…å–®
  collected.push(currentBox);
  
  // æ›´æ–°å·¦é‚Šå·²æŠ½åˆ°åˆ—è¡¨
  const collectedDiv = document.getElementById('collected');
  const img = document.createElement('img');
  img.src = currentBox;
  collectedDiv.prepend(img); // ä½¿ç”¨ prepend è®“æœ€æ–°çš„é¡¯ç¤ºåœ¨æœ€ä¸Šé¢

  // é‡è¨­ç‹€æ…‹
  currentBox = '';
  document.getElementById('boxImage').src = closedImage;
  document.getElementById('statusMessage').innerText = "";
  document.getElementById('confirmBtn').style.display = 'none';
}
</script>

</body>
</html>
